\section{Variation and Holder spaces}

\begin{proposition}
    Assume $x: [0,T] \rightarrow E$ is $\alpha$-Holder continuous, with $\alpha > 1$ or continuous with finite $p$-variation with $p \in (0, 1).$
    Then $x$ is constant, $x(\cdot) \equiv x_0.$
\end{proposition}

\begin{proposition}
    Let $x \in C([0,T], E)$. Then if $1 \leq p \leq p' < \infty,$
    \begin{equation}
        |x|_{p'-var, [0,T]} \leq |x|_{p-var, [0,T]}. 
    \end{equation} 
    Furthermore, if $0 \leq \alpha \leq \alpha' \leq 1,$
    \begin{equation}
        |x|_{\alpha-Hol,[0,T]} \leq |x|_{\alpha'-Hol,[0,T]} \cdot T^{\alpha' - \alpha}.
    \end{equation}
\end{proposition}

\begin{proposition}[Interpolation]
        Let $x \in C([0,T], E)$. Then if $1 \leq p < p' < \infty,$
    \begin{equation}
        |x|_{p'-var, [0,T]} \leq |x|_{p-var, [0,T]}^{p/p'} \cdot |x|_{0,[0,T]}^{1 - p/p'}. 
    \end{equation} 
    Furthermore, if $0 \leq \alpha' < \alpha \leq 1,$
    \begin{equation}
        |x|_{\alpha'-Hol} \leq |x|_{\alpha-Hol}^{\alpha' / \alpha} \cdot |x|_{0,[0,T]}^{1 - \alpha' / \alpha}.
    \end{equation}
\end{proposition}

Observe that from the Interpolation inequality it follows that uniform convergence with a uniform $p$-variation bound implies $p'$-variation convergence for all $p' > p$.
Similar can be said for $\alpha-Holder$ spaces.

\begin{observation}
    In the case $p=1$ we used extensively that controls such that $d(x_s, x_t) \leq \omega(s,t)$ dominate the $1-variation.$ One can easily see here that controls such that $d(x_s, x_t)^p \leq \omega(s,t)$ dominate the $p-variation$ elevated at $p$ (that is, the control of the next proposition).
\end{observation}

\begin{proposition}
    Let $p \geq 1$ and $x \in C([0,T], E)$.
    \begin{itemize}
        \item $x \in C^{p-var}([0,T], E)$ is equivalent to
        \begin{equation}
            \lim_{\delta \rightarrow 0} \sup_{D_\delta} \sum_i d(x_{t_i}, x_{t_{i+1}})^p < \infty.
        \end{equation}
        \item If $1 \leq q < p < \infty$ and $x \in C^{q-var}([0,T], E),$ then
        \begin{equation}
            \lim_{\delta \rightarrow 0} \sup_{D_\delta} \sum_i d(x_{t_i}, x_{t_{i+1}})^p = 0.
        \end{equation}
    \end{itemize}
\end{proposition}
\begin{proof}[Outline of the proof]
    \begin{itemize}
        \item Bound the contribution of intervals with size larger then $\delta$ in $\sum d(x_{t_i}, x_{t_{i+1}})^p$ using their maximum and their quantity.
        \item Use the convergence to zero of the modulus of continuity 
        \begin{equation}
            osc(x, \delta) = \sup \{ d(x_s, x_t): s,t \in [0,T], |t - s| \leq \delta \}.
        \end{equation}
        as $\delta \rightarrow 0.$
    \end{itemize}
\end{proof}

\begin{proposition}[Control function from $p$-variation]\label{prop:pVarIsControl}
    Let $(E,d)$ be a metric space, $p \geq 1$ and $x: [0,T] \rightarrow E$ be a continuous path of bounded $p$-variation. Then
    \begin{equation}
        \omega_{x,p}(s,t) = |x|_{p-var}^p
    \end{equation}
    defines a control.
\end{proposition}
\begin{proof}
    This Proposition generalized Proposition \ref{theo:1varcontrol}.
    Superadditivity works similar to $p=1$.
    Continuity from inside is similar to $p=1$.
    Continuity from outside is proved in the following steps:
    \begin{itemize}
        \item $\omega_{x,p}(t, t^+) = 0$:
        one finds a contradiction using the continuity of $x$ and hypothesizing it to be $>0.$
        \item $\omega_{x,p}(s, t^+) = \omega(s, t)$,
        simple consequence of the above.
        \item $\omega_{x,p}(s^-, t^+) = \omega(s,t)$, using continuity from outside to the left and right.
    \end{itemize}
\end{proof}

\begin{proposition}\label{prop:deltaPvar}
    Let $(E,d)$ be a metric space, $p \geq 1$ and $x$ a continuous path of finite $p$-variation and $\delta > 0.$ Then
    \begin{enumerate}
        \item \begin{equation}
            \omega_{x,\delta,p}(s,t) \leq |x|_{p-var,[s,t]}^p
        \end{equation}
        defines a control.
        \item \begin{align}
            \omega_{x,\delta,p}(s,t) &= \sup_{D_\delta} \sum_i |x|_{p-var,[t_i,t_{i+1}]}^p \\
            \sup_{|t - s| \leq \delta} \frac{d(x_s, x_t)}{|t - s|^{1/p}} &= \sup_{|t - s| < \delta} |x|_{1/p-Hol, [s,t]}
        \end{align}
    \end{enumerate}
\end{proposition}
\begin{proof}[Outline of the proof]
    \begin{enumerate}
        \item Similar to the proof of Proposition\ref{prop:pVarIsControl}.
        \item Use the fact that $\omega_{x,\delta,p}$ is a control.
    \end{enumerate}
\end{proof}

\begin{proposition}\label{prop:pVarControl}
    Let $(E,d)$ be a metric space, $\omega$ a control, $p \geq 1$, $C>0$ and $x:[0,T] \rightarrow E$ a continuous path.
    \begin{enumerate}
        \item The pointwise estimate 
        \begin{equation}
            d(x_s, x_t) \leq C \omega(s,t)^{1/p} \text{ for all } s < t \text{ in } [0,T].
        \end{equation}
        implies the $p$-variation estimate
        \begin{equation}
            |x|_{p-var, [s,t]} \leq C \omega(s,t)^{1/p} \text{ for all } s < t \text{ in } [0,T].
        \end{equation}
        \item Under the weaker assumption 
        \begin{equation}
            d(x_s, x_t) \leq C \omega(s, t)^{1/p} \text{ for all } s < t \text{ in } [0,T] \text{ such that } \omega(s,t) \leq 1.
        \end{equation}
        we have
        \begin{equation}
            |x|_{p-var, [s,t]} \leq 2 C \left( \omega(s,t)^{1/p} \vee \omega(s,t) \right) \text{ for all } s < t \text{ in } [0,T].
        \end{equation}
    \end{enumerate}

\end{proposition}
\begin{proof}[Outline of the proof]
    \begin{enumerate}
        \item obvious.
        \item Take $\omega(s,t) > 1$ and split it in pieces such that $\omega(t_i, t_{i+1})=1$. These pieces can be at most $\omega(s,t)$ by superadditivity, hence the $d(x_s,x_t)$ can be controlled on each interval. Not that those interval can be at most $\omega(s,t) + 1$.
    \end{enumerate}
\end{proof}

\begin{corollary}[Not in the book, generalized version of Lemma\ref{lem:HolderControl}]\label{lem:pHolderControl}
    If $x \in C^{1/p-Hol}([0,T], E)$, then we have:
    \begin{equation}
        |x|_{p-var, [s,t]} \leq |x|_{1/p-Hol,[s,t]} |s - t|^{1/p}.
    \end{equation}
\end{corollary}
\begin{proof}
    Apply Proposition\ref{prop:pVarControl} with $\omega(u,v) = |u - v|$ and $C = |x|_{1/p-Hol,[s,t]}$ on the interval $[s,t]$.
    It implies that $|x|_{p-var, [u,v]} \leq |x|_{1/p-Hol,[s,t]} |u - v|^{1/p}$ for all $u, v$ in $[s,t]$, hence the thesis.
\end{proof}

The following Lemma generalizes Lemma \ref{lem:1HolSemicont} and Lemma \ref{lem:1varSemicont}.

\begin{lemma}[Lower semicontinuity of $p$-var and $1/p$-Hol]
    Let $x^n$ be a sequence of paths from $[0,T]$ in $E$ of finite $p$-variation. Then
    \begin{equation}
        |x|_{p-var,[s,t]} \leq \liminf_{n \rightarrow \infty} |x^n|_{p-var, [s,t]}.
    \end{equation}
    In particular 
    \begin{equation}
        |x|_{1/p-Hol,[s,t]} \leq \liminf_{n \rightarrow \infty} |x^n|_{1/p-Hol, [s,t]}.
    \end{equation}
\end{lemma}

\begin{lemma}
    Let $x:[0,T] \rightarrow E$ be a continuous map of finite $p$-variation. Then, for all $s < t$, the map $p':[p,\infty) \mapsto |x|_{p'-var,[s,t]}$ is non-increasing and 
    \begin{equation}
        \lim_{p' \searrow p} |x|_{p'-var, [s,t]} = |x|_{p-var, [s,t]}.
    \end{equation}
\end{lemma}
\begin{proof}[Outline of the proof]
    We need to show that 
    \begin{equation}
    \omega(s,t) = \left( \lim_{p' \searrow p} |x|_{p'-var, [s,t]} \right)^p = \lim_{p' \searrow p} |x|_{p'-var, [s,t]}^{p'}
    \end{equation}
    is a control.
\end{proof}

\subsubsection{On some path spaces contained in $C^{p-var}([0,T], E)$}

\begin{observation}
    $x$ is a path of finite $p$-variation controlled by $(s,t) \mapsto |t - s|$ if an only if it is $1/p$-Holder.
\end{observation}

We show that conversely, any finite $p$-variation path can be reparametrized to a $1/p$-Holder path.

\begin{proposition}
    Let $(E,d)$ be a metric space and $x:[0,T] \rightarrow E$ a continuous path.
    Then $x$ is of finite $p$-variation if and only if there exists $h$ continuous increasing from $[0,T]$ to $[0,1]$ and $y:[0,1]\rightarrow E$ $1/p$-Holder, such that $x = y \circ h.$
\end{proposition}

Observe that in this case we have $|x|_{p-var} = |y|_{p-var} = |y|_{p-Hol}$ using Lemma \ref{lem:pHolderControl}.

\begin{exercise}[Absolute continuity of order $p$]
    A function is absolutely continuous of order $p$ if it satisfies the a.c. conditions with expontials $p$ on the conditions.
    \begin{enumerate}
        \item One can replace in the definition $d(x_{s_i}, x_{t_i})$ with $|x|_{p-var,[s_i,t_i]}$.
        \item If $p > 1$, A.C. of order $p$ is equivalent to $\omega(x,\delta,p) \rightarrow 0$ as $\delta \rightarrow 0.$ Observe the with $p=1$ the limit is the $1$-variation, not $0$ in general.
    \end{enumerate}
\end{exercise}
\begin{observation}[Regarding the Exercise]
    The difference with the case $p=1$ is that $\sum_D |t_{i+1} - t_i|^p \leq |D|^{p-1} T$ is small at will if $p > 1,$ while it is always $T$ if $p=1.$
    With $p=1$ it is not true in general that absolute continuity implies $\omega(x,\delta,p) \rightarrow 0$.
\end{observation}

\subsection{Approximation in Geodesic spaces}

\begin{definition}
    In a metric space $(E,d)$ a Geodesic joining two points $a,b \in E$ is a path $\Upsilon^{a,b}:[0,1] \rightarrow E$ such that $\Upsilon^{a,b}(0) = a,\ \Upsilon^{a,b}(1) = b$ and 
    \begin{equation}
        d \left( \Upsilon^{a,b}_s, \Upsilon^{a,b}_t \right) = |t - s| d(a,b).
    \end{equation} 
    If any two points are connected by a geodesic, we say that $E$ is a geodesic space.
\end{definition}

\begin{example}
    The unit circle $S^1$ in $\R^2$ with the induced metric is not geodesic. It is geodesic with the arclength distance.
\end{example}

Geodesic spaces have the structure that allows to generalize piecewise linear approximations.

\begin{definition}[PL approximations]
    $x$ continuous path in $E$, $D$ dissection.
    \begin{equation}
        \begin{cases}
            x^D_t = x_t \text{ for } t \in D \\
            x^D_t = \Upsilon^{x_{t_i}, x_{t_{i+1}}} \left( \frac{t - t_i}{t_{i+1} - t_i} \right) \text{ for } t \in (t_i, t_{i+1}). 
        \end{cases}
    \end{equation}
\end{definition}

\begin{lemma}
    $E$ geodesic space, $x \in C([0,T],E).$ Then $x^D$ converges uniformly to $x$ on $[0,T].$
\end{lemma}

\begin{proposition}
    Let $E$ be a geodesic space and $x \in C^{p-var}([0,T], E)$, $p \ge 1$ and $D$ a dissection of $[0,T]$. Then
    \begin{equation}
        |x^D|_{p-var,[0,T]} \le 3^{1-1/p} |x|_{p-var, [0,T]}.
    \end{equation}

    If $x$ is $1/p$-Holder,
    \begin{equation}
        |x^D|_{1/p-Holder,[0,T]} \le 3^{1-1/p} |x|_{1/p-Hol, [0,T]}.
    \end{equation}
\end{proposition}
\begin{proof}[Outline of the proof]
    \underline{p-variation estimate}:
    We define $\omega_D(s,t) = \left( \frac{t - s}{t_{i+1} - t_i} \right)^p \omega(t_i, t_{i+1})$ where $\omega(s,t) := |x|_{p-var,[s,t]}^p$ is the usual control and $\omega_D(s,t) = \omega_D(s,t_i) + \omega(t_i,t_j) + \omega_D(t_j,t)$ if $s$ and $t$ are in different intervals of the dissection.
    Then we prove that $\omega_D$ is a control and that 
    \begin{equation}
        d(x_s^D, x_t^D) \le 3^{1 - 1/p} \omega^D(s,t)^{1/p}.
    \end{equation}

    Not that the $3$ comes from the case where $s$ and $t$ are in different intervals of the dissection using $(a + b + c)^p \leq 3^{p-1} (a^p + b^p + c^p).$

    \underline{Holder estimate}:
    It follows from the $p$ variation estimate observing using $\omega^D$ and observing that 
    \begin{equation}
        |x|_{p-var,[s,t]} \le |x|_{1-Hol,[0,T]} |t - s|^{1/p}.
    \end{equation}
\end{proof}

\begin{observation}
    The above proof show thats:
    \begin{equation}
        \sup_{D_\delta} \sum |x^D|^p_{p-var,[t_i, t_{i+1}]} \leq 3^{p-1} \sup_{D_\delta} \sum |x|^p_{p-var,[t_i, t_{i+1}]}.
    \end{equation}
    This follows taking one dissection, proving the inequality of in $[t_i, t_{i+1}]$, taking the sum and finally the sup.
\end{observation}
The union of the two preceding results gives the following theorem.

\begin{theorem}
    Let $E$ be a geodesic space and $x \in C^{p-var}([0,T],E)$, $p \ge 1$. Let $D_n$ be a sequence of dissections with $|D_n| \rightarrow 0$.
    Then $x^{D_n}$ converges to $x$ "uniformly with uniform p-variation bounds", that is
    \begin{align}
        &\sup_{t \in [0,T]} d \left( x_t^{D_n}, x_t \right) \rightarrow 0 \\
        &\sup_n |x^{D_n}|_{p-var, [0,T]} \le 3^{1 - 1/p} |x|_{p-var, [0,T]}.
    \end{align}
    If $x$ is $1/p$-Holder
    \begin{equation}
        \sup_n |x^{D_n}|_{1/p-Hol, [0,T]} \le 3^{1 - 1/p} |x|_{1/p-Hol, [0,T]}.
    \end{equation}
\end{theorem}

\subsection{Holder and $p$-variation paths on $\R^d$}

\begin{theorem}
    \begin{itemize}
        \item $C^{p-var}([0,T], \R^d)$ is Banach with norm $x \mapsto |x_0| + |x|_{p-var,[0,T]}.$ The closed subspace of paths starting from zero is also Banach.
        \item $C^{1/p-Hol}([0,T], \R^d)$ is Banach with norm  $x \mapsto |x_0| + |x|_{1/p-Hol,[0,T]}.$ The closed subspace of paths starting from zero is also Banach.
    \end{itemize}
    These Banach spaces are not separable.
\end{theorem}

\begin{example}[Uncountable family of distant functions]
    Take
    \begin{equation}
        f_\varepsilon(t) = \sum_{k \ge 1} \varepsilon_k 2^{- k / p} \sin(2^k \pi t),\ t \in [0,1],
    \end{equation}
    where $\varepsilon \in \{-1, 1\}^\N$.
    Then
    \begin{equation}
        f_\varepsilon \in C^{1/p-Hol}([0,1],\R^d) \subset C^{p-var}([0,1],\R^d)
    \end{equation}
    and if $\varepsilon' \neq \varepsilon$
    \begin{equation}
        2 < |f_\varepsilon - f_{\varepsilon'}|_{p-var,[0,1]} \le |f_\varepsilon - f_{\varepsilon'}|_{1/p-Hol,[0,1]}.
    \end{equation}
\end{example}
\begin{proof}{Outline of the proof}
    Split terms where $k$ is bigger of smaller than $|\log_2(t-s)|$.
    Where $k$ is smaller, we have
    \begin{equation}
        |\sin(2^k \pi t) - \sin(2^k \pi s)| \le 2^k \pi |t - s|
    \end{equation}
    thanks to the mean value theorem.
    The second part can be controlled with $2$.
    
    On can easily see that:
    \begin{equation}
        \sum_{i > k} 2^{-i} = 2^{-k}.
    \end{equation}
    If $k$ is a real number it becomes 
    \begin{equation}
        \sum_{i > k} 2^{-i} = \sum_{i > \lfloor k \rfloor} 2^{-i} = 2^{-\lfloor k \rfloor} > 2^{-k}
    \end{equation}
    Also, since we pick $k = |\log_2(t-s)|$ and $0 \le s < t \le 1$, we have $t - s < 1$, hence $k = - \log(t - s)$.
    Thus $2^{-k} = (t - s).$

    To distance the $f_\varepsilon$-s, pick the smallest $j$ where $\varepsilon_j \ne \varepsilon'_j$ and the dissection $t_i = i2^{-j-1},\ i = 1,\ldots,2^{j+1}.$
    It follows that 
    \begin{equation}
        |(f_\varepsilon - f_{\varepsilon'})(t_i) - (f_\varepsilon - f_{\varepsilon'})(t_{i+1})| = 
        |\varepsilon_j - \varepsilon'_j| 2^{-j/p} |\sin(2^j \pi t_{i+1}) - \sin(2^j \pi t_i)| =
        2 \cdot 2^{-j/p}.
    \end{equation}
\end{proof}

\subsubsection{Compactness}

\begin{lemma}
    Consider $(x_n) \subset C([0,T], \R^d)$ and assume $x_n \rightarrow x \in C([0,T], \R^d)$ uniformly.
    \begin{itemize}
        \item Assume $\sup_n |x_n|_{p-var} < \infty.$ Then for all $p' > p$ we have $x_n \rightarrow x$ in $p-$variation.
        \item Assume $\sup_n |x_n|_{\alpha-Hol} < \infty.$ Then for all $\alpha' < \alpha$ we have $x_n \rightarrow x$ in $\alpha-Hol$.
    \end{itemize}
\end{lemma}
\begin{proof}[Outline of the proof]
    Finite $p$-variation follows by the lower semicontinuity result. Interpolation is enough to conclude.
\end{proof}

\begin{proposition}[Compactness]
    \begin{itemize}
        \item Assume $(x_n)$ is equicontinuous, bounded and $\sup_n |x_n|_{p-var} < \infty.$
        Then $x_n$ converges in $p' > p$ variation along a subsequence to some $x \in C^{p-var}.$
        \item Assume $(x_n)$ is bounded and $\sup_n |x_n|_{\alpha-Hol} < \infty.$
        Then $x_n$ converges in $\alpha' < \alpha$ Holder norm along a subsequence to some $x \in C^{\alpha-Hol}.$
    \end{itemize}
\end{proposition}

\begin{corollary}
    \begin{itemize}
        \item Assume $(x^n), x \in C^{p-var}([0,T],\R^d)$ such that $\sup_n |x_n|_{p-var} < \infty$ and $x_n$ converges uniformly to $x$. Then for $p' > p$
        \begin{equation}
            \sup_{s \leq t} \left| |x^n|_{p-var,[s,t]} - |x|_{p-var,[s,t]} \right| \rightarrow 0 \text{ as } n \rightarrow \infty.
        \end{equation} 
        Equivalently, $|x^n|_{p-var,[\cdot,\cdot]}$ converges uniformly to $|x|_{p-var,[\cdot,\cdot]}$ in $\Delta_T = \{ (s,t): 0 \leq s \leq t \leq T \}$, aka the triangle (which is a good domain for Ascoli-Arzelà).
        Furthermore, $|x^n|_{p-var,[\cdot,\cdot]}$ varying $n$ is a equicontinuous set of functions $\Delta_T \rightarrow \R$ and for all $\delta > 0$ there exists a $\varepsilon > 0$ 
        \begin{equation}
            \sup_n |x^n|_{p'-var,[s,t]} < \varepsilon.
        \end{equation}
        This is a consequence of equicontinuity.
        \item Similar result holds for Holder continuity with $0 < \alpha' < \alpha.$
    \end{itemize}
\end{corollary}
\begin{proof}{Outline of the proof}
    \begin{itemize}
        \item From interpolation, $|x_n - x|_{p-var,[s,t]}$ converges to $0$ if $p' > p$ uniformly over $(s,t)$. Asoli-Arzelà helps to conclude equicontinuity.
    \end{itemize}
\end{proof}

\subsubsection{Closure of smooth paths in variation norm}

Let us consider the closure of smooth paths in $C^{p-var}$ and $C^{\alpha-Hol}$, $C^{0,p-var}$ and $C^{0,\alpha-Hol}$ respectively.

Recall that with $p = 1$ and $\alpha = 1$ we had absolutely continuous functions and $C^1$ functions respectively.

\begin{lemma}
    Let $p > 1.$
    \begin{itemize}
        \item Let $\Omega$ be a set in $C^{1-var}([0,T],\R^d)$ such that $C^{0,1-var}([0,T],\R^d) \subset \overline{\Omega}^{1-var}$ (its closure in $1$-var includes absolutely continuous functions). Then
        \begin{equation}
            \overline{\Omega}^{p-var} = C^{0, p-var}([0,T], \R^d).
        \end{equation}
        \item Let $\Omega$ be a set in $C^{1-Hol}([0,T],\R^d)$ such that $C^{0,1-Hol}([0,T],\R^d) \subset \overline{\Omega}^{1-Hol}$ (its closure in $1$-Hol includes $C^1$ functions). Then
        \begin{equation}
            \overline{\Omega}^{1/p-Hol} = C^{0, 1/p-Hol}([0,T], \R^d).
        \end{equation}
    \end{itemize}
\end{lemma}
\begin{proof}[Outline of the proof]
    It is essential to see that $C^{1-var} \subset \overline{C^\infty}^{p-var}.$
    Observe that $1$-var functions can be approximated uniformly with uniformly bounded $1$-variation using mollifiers. Using interpolation, one can see that this implies convergence in $p-var$ for all $p > 1.$
\end{proof}

\begin{theorem}[Wiener characterization]
    Let $x \in C^{p-var}([0,T], \R^d)$ with $p > 1.$ The following statements are equivalent:
    \begin{enumerate}
        \item $x \in C^{0,p-var}([0,T], \R^d)$,
        \item $\lim_{\delta \rightarrow 0} \sup_{|D| < \delta} \sum_i |x|_{p-var,[t_i, t_{i+1}]}^p = 0$
        \item $\lim_{\delta \rightarrow 0} \sup_{|D| < \delta} \sum_i d(x_{t_i}, x_{t_{i+1}})^p = 0$
        \item $\lim_{|D| \rightarrow 0} d_{p-var}(x^D, x) = 0.$
    \end{enumerate}
\end{theorem}
\begin{proof}[Outline of the proof]
    The equivalence between 2 and 3 has been proved in Proposition \ref{prop:deltaPvar}.
    4 implies 1 because we proved that the $p-$var closure of $C^{1-var}$ is $C^{0,p-var}$.
    The reverse is the $p$-case of Corollary \ref{cor:PLapprox}, that is PL approximations converge in $p$-variation. 

    We want to prove 1 $\Rightarrow$ 3.
    It can be proved using $(a + b)^p \leq 2^{p-1} (a^p + b^p)$ (convexity of $x \mapsto x^p$).
    On $d(x_{t_i},x_{t_{i+1}}) = d(y_{t_i}, y_{t_{i+1}}) + (d(x_{t_i}, x_{t_{i+1}}) - d(y_{t_i}, y_{t_{i+1}}))$.
    Taking the sum and the sup on the second term gives $d_{p-var}(x,y)$.
    If $y$ is a $C^\infty$ approximator in $p$-variation, using 3 in smooth functions is enough to conclude.
\end{proof}

\begin{corollary}
    For $p > 1$, we have the following set inclusions,
    \begin{align}
        \cup_{1 \le q < p} C^{q-var}([0,T], \R^d) &\subset C^{0,p-var}([0,T], \R^d) \\
        &\subset C^{p-var}([0,T], \R^d) \subset \cap_{q > p} C^{q-var}([0,T], \R^d).
    \end{align}
\end{corollary}

\begin{proposition}
    Let $p \ge 1$. The spaces $C^{0,p-var}$ and $C^{0,1/p-Hol}$ are separable Banach spaces (hence Polish).
\end{proposition}

\subsection{Generalized variation}

We generalize the notion of $p$-variation.

\begin{definition}
    Let $(E,d)$ be a metric space, $\varphi \in C([0,\infty),[0,\infty))$, $\varphi(0)=0$, strictly increasing and onto.
    A path $x:[0,T] \rightarrow E$ is said to be of finite $\varphi$-variation in the interval $[s,t]$ if
    \begin{equation}
        |x|_{\varphi-var,[s,t]} = \inf \left\{ M > 0, \sup_D \sum \varphi \left[ \frac{d(x_{t_i}, x_{t_{i+1}})}{M} \right] \leq 1 \right\} < \infty.
    \end{equation}
\end{definition}

\begin{observation}
    The $\varphi-$variation is a seminorm if $\varphi$ is a convex function. This can be found convexly combining two elements in the sets inside the $\inf$ for $x$ and $y$ with $\lambda$ so that $\lambda 1/M_x + (1 - \lambda) 1/M_y = 1 / (M_x + M_y).$
\end{observation}

We now prove that the $\inf$ in the definition is effectively reached, therefore it is a minimum.

\begin{lemma}
    If $x \in C^{\varphi-var}([0,T], E),$ for all $M \geq |x|_{\varphi-var,[0,T]},$ 
    \begin{equation}
         \sup_D \sum \varphi \left[ \frac{d(x_{t_i}, x_{t_{i+1}})}{M} \right] \leq 1.
    \end{equation}
\end{lemma}

\begin{proposition}[Controls and $\varphi$-variation]
    The following statements are equivalent:
    \begin{enumerate}
        \item $x \in C^{\varphi-var}([0,T],E)$ and $M \geq |x|_{\varphi-var,[0,T]}.$
        \item There exist a control with $\omega(0,T) \leq 1$ such that for all $s < t$,
        \begin{equation}
            d(x_s,x_t) \leq M \varphi^{-1}(\omega(s,t)).
        \end{equation}
    \end{enumerate}
\end{proposition}
\begin{proof}[Outline of the proof]
    $1 \Rightarrow 2$: Use the control $\omega_{x,\varphi}(s,t) = \sup_D \sum \varphi \left[ \frac{d(x_{t,i}, x_{t_{i+1}} )}{M} \right]$.
    $2 \Rightarrow 1$: Analogous to the $p$-variation case.
\end{proof}

\begin{definition}[Condition $(\Delta_c)$]
    Assume that $\varphi \in C([0,\infty),[0,\infty))$, $\varphi(0)=0$, strictly increasing and onto.
    If for each $c > 0$ there exist a $\Delta_c \le 0$ such that $\varphi(cx) \le \Delta_c \varphi(x)$ and $\Delta_c \rightarrow 0$, we say that $\varphi$ satisfies $(\Delta_c)$.
\end{definition}

\begin{proposition}\label{phiVarCondition}
    Let $\varphi$ satisfy $(\Delta_c)$. Then the following are equivalent:
    \begin{enumerate}
        \item $x \in C^{\varphi-var}$
        \item $\exists M,\ \sup_D \sum \varphi \left[ \frac{d(x_{t,i}, x_{t_{i+1}} )}{M} \right] < \infty$.
        \item $\forall K,\ \sup_D \sum \varphi \left[ \frac{d(x_{t,i}, x_{t_{i+1}} )}{K} \right] < \infty$.
    \end{enumerate}
\end{proposition}

\begin{lemma}
    Assume $\varphi$ and $\tilde{\varphi}$ satisfy $(\Delta_c)$ and $\tilde{\varphi} = O(\varphi)$ in $0^+$.
    Then
    \begin{equation}
        C^{\varphi-var} \subseteq C^{\tilde{\varphi}-var}.
    \end{equation}
\end{lemma}
\begin{proof}[Outline of the proof]
    The condition, combined with Proposition \ref{phiVarCondition}, lets us restrict the $d(t_i,t_{i+1})$ at will in the sums, by getting constants out of the $\varphi$.
\end{proof}

\begin{theorem}[Relation with $p$-var]
    Let $p \ge 1$ and $\varphi$ satisfy $(\Delta_c)$. Assume $\varphi^{-1}(\cdot)^p$ is convex on $[0,\delta]$ for some $\delta \in (0,1].$
    Let $x \in C^{\varphi-var}.$
    Then the control
    \begin{equation}
        \omega(s,t) := \sup_D \sum \varphi \left[ \frac{d(x_{t_i}, x_{t_{i+1}})}{|x|_{\varphi-var,[0,T]}} \right]
    \end{equation}
    satisfies $\omega(0,T) \le 1$. Moreover there exists $C = C(\varphi, p)$ constant, such that,
    \begin{equation}
        |x|_{p-var, [s,t]} \le C |x|_{\varphi-var,[0,T]} \phi^{-1}(\omega(s,t)).
    \end{equation}
\end{theorem}
\begin{proof}[Outline of the proof]
    Observe that $\varphi \left[ \kappa \frac{d(x_s, x_t)}{|x|_{\phi-var,[0,T]}} \right] \leq \Delta_\kappa \omega(s,t).$
    Conclude with the usual argument on $p$-variation using $\kappa$ appropriately to exploit the local convexity of $\varphi^{-1}(\cdot)^p$. 
\end{proof}

\begin{corollary}
    Use the same hypothesis as the Theorem. Let $x \in C([0,T],E)$ and $y \in C([0,T],\tilde{E})$ such that for all $s < t$
    \begin{equation}
        |y|_{p-var,[s,t]} \le K |x|_{p-var,[s,t]}.
    \end{equation}
    Then for some constant $C = C(p,\varphi)$,
    \begin{equation}
        |y|_{\varphi-var,[s,t]} \le C K |x|_{\varphi-var,[s,t]}.
    \end{equation}
\end{corollary}

\subsection{Higher dimensional variation}

We now extend the discussion to the variation of a function
\begin{equation}
    f:[0,T]^2 \rightarrow (\R^d, | \cdot |).
\end{equation}

\begin{definition}
    Give a rectangle $R = [s,t] \times [u,v] \subset R$, we define
    \begin{equation}
        f(R):= f \colvec{s,t}{u,v} := f \colvec{s}{u} + f \colvec{t}{v} - f \colvec{s}{v} - f \colvec{t}{u}.
    \end{equation} 
\end{definition}

\begin{definition}[$p$-variation on a square]
    Let $f:[0,T]^2 \rightarrow (\R^d, | \cdot |)$.
    $f$ has finite $p$ variation if 
    \begin{equation}
        |f|_{p-var,[s,t] \times [u,v]} = \sup_{D \in \mathbb{D}[s,t], D' \in \mathbb{D}[u,v]} \left( \sum_{i,j} \left| f(R_{i,j}) \right| \right)
    \end{equation}
\end{definition}

We extend the notion of \textit{control}.

\begin{definition}[2D control]
    Let $\Delta_T = \left\{ (s,t): 0 \leq s \leq t \leq T \right\}$. 
    A control is a continuous map $\omega: \Delta_T \times  \Delta_T \rightarrow [0,\infty)$ which is superadditive on rectangles.
    That is, if $R_1 \cup R_2 \subset R$ and $\R_1 \cap R_2 = \emptyset,$
    \begin{equation}
        \omega(R_1) + \omega(R_2) \le \omega(R),
    \end{equation}
    and $\omega(R)=0$ if $R$ has zero area.
\end{definition}

\begin{lemma}
    Let $f:[0,T]^2 \rightarrow (\R^d, | \cdot |)$.
    \begin{enumerate}
        \item If $f$ is of finite $p$-variation, for some $p \ge 1,$
        \begin{equation}
            R \mapsto |f|^p_{p-var,R}
        \end{equation}
        is a $2D$-control.
        \item $f$ is of finite $p$-variation if and only if there exists a $2D$-control $\omega$ such that for all rectangles $R$ 
        \begin{equation}
            |f(R)|^p \le \omega(R).
        \end{equation}
        In this case we say "$\omega$ dominates the $p$-variation of $f$".
    \end{enumerate}
\end{lemma}
\begin{proof}[Outline of the proof]
    The ideas are the same as in the $1$-dimensional case. 
    Superadditivity is easy from the definition.
    Continuity can be proven with a similar strategy:
    \begin{enumerate}
        \item \textit{Continuity from inside}:
        Consider $|f|^p_{p-var, [s^+,t^-] \times [u^+,v^-]}.$ This can be seen to be a control, and it dominates $d(f_s,f_t)^p.$
        \item \textit{Continuity from outside}:
        Focus on just one of the four inputs to prove $|f|^p_{p-var, [s^-,t] \times [u,v]} = |f|^p_{p-var, [s,t] \times [u,v]}$.
        This follows from the case where $s = t$, where $|f|^p_{p-var, [t^-,t] \times [u,v]} = |f|^p_{p-var, [s,t] \times [u,v]}$.
        One can use the same arguments as in the $1D$ case, it suffices to use uniform continuity of $f$, hence equicontinuity of $t \rightarrow f(t,u)$ over $u$.
    \end{enumerate}
\end{proof}

\begin{lemma}
    A function $f \in C([0,T]^2, \R^d)$ is of finite $p$-variation if and only if   
    \begin{equation}
        \sup_{D \in \mathbb{D}^[0,T]} \sum_D \left| \colvec{t_i, t_{i+1}}{t_j, t_{j+1}} \right|^p < \infty.
    \end{equation}

    Moreover, the $p$-variation of $f$ is dominated by $3^{p-1}$ times
    \begin{equation}
        \omega([s,t] \times [u,v]) = \sup_D \sum_{[t_i,t_{i+1}] \subseteq [s,t], [t_j,t_{j+1}] \subseteq [u,v]} \left| f \colvec{t_i, t_{i+1}}{t_j, t_{j+1}} \right|^p.
    \end{equation}
\end{lemma}
\begin{proof}[Outline of the proof]
    One proves that $\omega$ is a control.
    Then that $\omega$ dominates $|f(R)|^p$ for any rectangle $R = [s,t] \times [u,v]$ can be proven in three steps:
    \begin{enumerate}
        \item For $[s,t] = [u,v]$ by definition,
        \item For $[s,t] \cap [u,v] = \emptyset$ by definition,
        \item In the general case by splitting $f \colvec{s,t}{u,v}$ in three pieces and applying the inequatility on each one, finally using $(a + b + c)^p \le 3^{p-1} (a^p + b^p + c^p).$
    \end{enumerate}
\end{proof}

\begin{example}
    Given $f \in C([0,T]^2, \R^d)$, fixed $[s,t] \times [u,v]$, the $p$-variation of 
    \begin{equation}
        r \mapsto f \colvec{r}{u,v}
    \end{equation}
    is bounded by $|f|_{p-var,[s,t] \times [u,v]}$ (obvious thinking about rectangles $[t_i,t_{i+1}] \times [u,v]$).
\end{example}

\begin{observation}
    A function $f \in C([0,T]^2,\R^d)$ of finite $p$-variation can be seen as a path $[0,T] \rightarrow C^{p-var}([0,T],\R^d).$ On can see that $f$ is of finite $2D$ $p-$variaton if an only if $t \mapsto f(t, \cdot)$ is of finite variation endowing $C^{p-var}([0,T],\R^d)$ with the $p$-variation seminorm. Not that this does not induce a distance, but $p$-variation is still well defined.
\end{observation}

\subsubsection{Approximations to 2D functions}

\paragraph{Piecewise linear approximations}

Recall in $1D$ that any $p$-variation path can by approximated by smooth or piecewise linear path in the sense of \textit{uniform convergence with $p$-variation bounds}, hence in $p'$-variation for all $p' > p$.
The same holds in $2D$.

\begin{definition}[$D$, $\tilde{D}$ PL approximation of a 2D function]
    Assume $f \in C([0,T]^2,E)$ where $E$ is a normed space. Given two dissections of $[0,T]$, $D$ and $\tilde{D}$, define
    \begin{align}
        f^{D,\tilde{D}} \colvec{s}{t} &= f \colvec{s}{t} \text{ for all } (s,t) \in D \times \tilde{D} \\
        f^{D,\tilde{D}} (\cdot,0) &= f^D(\cdot, 0) \\
        f^{D,\tilde{D}} (0, \cdot) &= f^D(0, \cdot) \\
        f^{D,\tilde{D}} \colvec{s,t}{u,v} &= \frac{t - s}{\tau_{i+1} - \tau_i} \cdot \frac{v - u}{t_{j+1} - t_j} f \colvec{\tau_i, \tau_{i+1}}{t_j, t_{j+1}} \\
        \text{ if } (s,t) \times (u,v) &\subset (\tau_i, \tau_{i+1}) \times (t_j, t_{j+1}).
    \end{align}
\end{definition}

\begin{proposition}
    Let $f \in C^{p-var}([0,T]^2,E)$ and $D,\tilde{D}$ dissections of $[0,T].$ Then for all $s < t$ in $D$ and $u < v$ in $\tilde{D},$
    \begin{equation}
        \left| f^{D,\tilde{D}}\right| ^p_{p-var,[s,t] \times [u,v]}\leq 9^{p-1} |f|^p_{p-var,[s,t] \times [u,v]}.
    \end{equation}
    Moreover $f^{D,\tilde{D}}$ converges uniformly to $f$ as $|D|,|\tilde{D}| \rightarrow 0.$
\end{proposition}
\begin{proof}[Outline of the proof]
    We define a control $\omega^{D,\tilde{D}}$ as follows:
    \begin{enumerate}
        \item for small rectangles $[s,t] \times [u,v] \subset [t_i,t_{i+1}] \times [\tilde{t}_i,\tilde{t}_{i+1}] = I \times J$,
        \begin{equation}
            \omega_D([s,t] \times [u,v]) = \frac{(t - s)(u - v)}{|I \times J|} |f|_{p-var,I \times J}^p
        \end{equation}
        \item for vertical strips $[s,t] \times (J_1 \cup \ldots \cup J_n)$ where $[s,t] \subset [t_i, t_{i+1}]$ and $J_i \in \tilde{D}.$
        \begin{equation}
            \omega_D([s,t] \times (J_1 \cup \ldots \cup J_n)) = \frac{(t - s)(u - v)}{|I \times J|} |f|_{p-var,[s,t] \times (J_1 \cup \ldots \cup J_n)}^p
        \end{equation}
        \item analogously for horizontal strips,
        \item finally for rectangles with endpoints in the dissections we have
        \begin{equation}
            \omega_D((I_1 \cup \ldots \cup I_n) \times (J_1 \cup \ldots \cup J_n)) = |f|^p_{p-var,(I_1 \cup \ldots \cup I_n) \times (J_1 \cup \ldots \cup J_n)}.
        \end{equation}
    \end{enumerate}
    Finally any rectangle decomposes uniquely into $9$ rectangles of the above types, hence $\omega^{D,\tilde{D}}$ can be defined additively.
    One can easily prove that this defines a control.
    To conclude, simply use the convexity of $x \mapsto x^p$ when $p \ge 1:$
    \begin{equation}
        \left(\sum_{i = 1}^N a_i \right)^p \le N^{p-1} \sum_{i=1}^N a_i^p.
    \end{equation}
\end{proof}

\paragraph{Mollifier approximations}

\begin{definition}
We extend a function \( f : [0,T]^2 \to \mathbb{R} \) to all of \( \mathbb{R}^2 \) by defining:
\begin{equation}
    f(s,t) := f\left( (s \land T) \lor 0,\ (t \land T) \lor 0 \right)
\end{equation}
where \( a \land b := \min(a,b) \) and \( a \lor b := \max(a,b) \).
Note that as a consequence $f(R) = f(R \cup [0,T]^2)$ for all rectangles $R$.
\end{definition}

\begin{definition}[\( \mu,\tilde{\mu} \)-mollifiers]
    Let \( f \in C([0,T],E) \), where \( E \) is a normed space.
    Let \( mu, \tilde{\mu} \) probability measures on \( \R \), compactly supported.
    We define \( f^{\mu,\tilde{\mu}} \) as 
    \begin{equation}
        f^{\mu, \tilde{\mu}} \colvec{s}{u} \int \int f \colvec{s - a}{t - b} d\mu(a) d\tilde{\mu}(b).
    \end{equation}
    Note that one can write a similar relation for rectangular increments.
\end{definition}

\begin{proposition}
    Let \( f \in C^{p-var}([0,T]^2,E) \), where \( E \) is a normed space, extended on $\R^2.$
    Let \( mu, \tilde{\mu} \) probability measures on \( R \), compactly supported. 
    Then \( f^{\mu, \tilde{\mu}} \) is of finite $p$-variation, controlled by
    \begin{equation}
        \omega^{\mu, \tilde{\mu}} \colvec{s,t}{u,v} = \int \int \omega \colvec{s-a,t-a}{u-b,v-b} d\mu(a) d\tilde{\mu}(b),
    \end{equation}
    where $\mu$ is the usual $p$-variation at power $p$ control.
    Then if $\mu_n, \tilde{\mu}_n$ converge to the Diract measure on zero, that is the integral of all continuous bounded functions converges to \( \phi(0) \), \( f^{\mu,\tilde{\mu}} \rightarrow f \) uniformly on \([0,T]^2.\)
\end{proposition}
\begin{proof}[Outline of the proof]
    Similar to the \( 1 \)-d case, bounding the increments of \( f^{\mu,\tilde{\mu}} \) with \( \omega^{\mu,\tilde{\mu}} \) using Jensen inequality.
\end{proof}
